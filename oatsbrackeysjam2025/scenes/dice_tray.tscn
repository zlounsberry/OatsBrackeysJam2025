[gd_scene load_steps=6 format=3 uid="uid://do4kpmrits8m7"]

[ext_resource type="Script" uid="uid://bhffq6hiip8gv" path="res://scripts/dice_tray.gd" id="1_xrqg8"]

[sub_resource type="ViewportTexture" id="ViewportTexture_h6acc"]
viewport_path = NodePath("3DView/SubViewport")

[sub_resource type="CylinderMesh" id="CylinderMesh_h6acc"]
top_radius = 2.0
height = 0.105
radial_segments = 16

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_h6acc"]
data = PackedVector3Array(0.191342, 0.0525, -0.46194, 6.12303e-17, 0.0525, -0.5, 0.191342, -0.0525, -0.46194, 0.191342, -0.0525, 0.46194, 0.353553, -0.0525, -0.353553, 0.191342, -0.0525, -0.46194, 6.12303e-17, 0.0525, -0.5, 6.12303e-17, -0.0525, -0.5, 0.191342, -0.0525, -0.46194, 0.191342, 0.0525, -0.46194, 0.191342, -0.0525, -0.46194, 0.353553, -0.0525, -0.353553, 0.191342, -0.0525, 0.46194, 0.46194, -0.0525, -0.191342, 0.353553, -0.0525, -0.353553, 0.353553, 0.0525, -0.353553, 0.353553, -0.0525, -0.353553, 0.46194, -0.0525, -0.191342, 0.46194, 0.0525, -0.191342, 0.46194, -0.0525, -0.191342, 0.5, -0.0525, 3.06152e-17, 0.191342, -0.0525, 0.46194, -0.191342, -0.0525, 0.46194, 0, -0.0525, 0.5, 0.191342, 0.0525, 0.46194, 0.191342, -0.0525, 0.46194, 0, -0.0525, 0.5, 0.191342, -0.0525, 0.46194, 0.5, -0.0525, 3.06152e-17, 0.46194, -0.0525, -0.191342, 0.191342, -0.0525, 0.46194, 0.46194, -0.0525, 0.191342, 0.5, -0.0525, 3.06152e-17, 0.191342, -0.0525, 0.46194, 0.353553, -0.0525, 0.353553, 0.46194, -0.0525, 0.191342, 0.5, 0.0525, 3.06152e-17, 0.5, -0.0525, 3.06152e-17, 0.46194, -0.0525, 0.191342, 0.46194, 0.0525, 0.191342, 0.46194, -0.0525, 0.191342, 0.353553, -0.0525, 0.353553, 0.353553, 0.0525, 0.353553, 0.353553, -0.0525, 0.353553, 0.191342, -0.0525, 0.46194, 0.191342, -0.0525, 0.46194, 0.191342, -0.0525, -0.46194, 6.12303e-17, -0.0525, -0.5, 0, 0.0525, 0.5, 6.12303e-17, 0.0525, -0.5, 0.191342, 0.0525, -0.46194, 0, 0.0525, 0.5, 0.191342, 0.0525, -0.46194, 0.353553, 0.0525, -0.353553, 0.353553, 0.0525, -0.353553, 0.191342, 0.0525, -0.46194, 0.353553, -0.0525, -0.353553, 0.46194, 0.0525, -0.191342, 0.353553, 0.0525, -0.353553, 0.46194, -0.0525, -0.191342, 0.5, 0.0525, 3.06152e-17, 0.46194, 0.0525, -0.191342, 0.5, -0.0525, 3.06152e-17, 0, 0.0525, 0.5, 0.353553, 0.0525, -0.353553, 0.46194, 0.0525, -0.191342, 0, 0.0525, 0.5, 0.191342, 0.0525, 0.46194, 0, -0.0525, 0.5, 0.191342, 0.0525, 0.46194, 0.353553, 0.0525, 0.353553, 0.191342, -0.0525, 0.46194, 0, 0.0525, 0.5, 0.353553, 0.0525, 0.353553, 0.191342, 0.0525, 0.46194, 0.46194, 0.0525, 0.191342, 0.5, 0.0525, 3.06152e-17, 0.46194, -0.0525, 0.191342, 0.353553, 0.0525, 0.353553, 0.46194, 0.0525, 0.191342, 0.353553, -0.0525, 0.353553, 0, 0.0525, 0.5, 0.46194, 0.0525, -0.191342, 0.5, 0.0525, 3.06152e-17, 0, 0.0525, 0.5, 0.5, 0.0525, 3.06152e-17, 0.46194, 0.0525, 0.191342, 0, 0.0525, 0.5, 0.46194, 0.0525, 0.191342, 0.353553, 0.0525, 0.353553, -0.46194, 0.0525, -0.191342, -0.5, 0.0525, -9.18455e-17, -0.46194, -0.0525, -0.191342, -0.46194, 0.0525, -0.191342, -0.46194, -0.0525, -0.191342, -0.353553, -0.0525, -0.353553, -0.5, 0.0525, -9.18455e-17, -0.5, -0.0525, -9.18455e-17, -0.46194, -0.0525, -0.191342, 0.191342, -0.0525, 0.46194, -0.353553, -0.0525, -0.353553, -0.46194, -0.0525, -0.191342, 0.191342, -0.0525, 0.46194, -0.191342, -0.0525, -0.46194, -0.353553, -0.0525, -0.353553, -0.191342, 0.0525, -0.46194, -0.191342, -0.0525, -0.46194, 6.12303e-17, -0.0525, -0.5, 0.191342, -0.0525, 0.46194, -0.46194, -0.0525, -0.191342, -0.5, -0.0525, -9.18455e-17, 0.191342, -0.0525, 0.46194, -0.5, -0.0525, -9.18455e-17, -0.46194, -0.0525, 0.191342, -0.46194, 0.0525, 0.191342, -0.46194, -0.0525, 0.191342, -0.5, -0.0525, -9.18455e-17, -0.353553, 0.0525, 0.353553, -0.353553, -0.0525, 0.353553, -0.46194, -0.0525, 0.191342, 0.191342, -0.0525, 0.46194, -0.46194, -0.0525, 0.191342, -0.353553, -0.0525, 0.353553, 0.191342, -0.0525, 0.46194, -0.353553, -0.0525, 0.353553, -0.191342, -0.0525, 0.46194, -0.191342, 0.0525, 0.46194, -0.191342, -0.0525, 0.46194, -0.353553, -0.0525, 0.353553, 0, 0.0525, 0.5, 0, -0.0525, 0.5, -0.191342, -0.0525, 0.46194, -0.353553, 0.0525, -0.353553, -0.46194, 0.0525, -0.191342, -0.353553, -0.0525, -0.353553, -0.353553, 0.0525, -0.353553, -0.353553, -0.0525, -0.353553, -0.191342, -0.0525, -0.46194, 0, 0.0525, 0.5, -0.46194, 0.0525, -0.191342, -0.353553, 0.0525, -0.353553, -0.191342, 0.0525, -0.46194, -0.353553, 0.0525, -0.353553, -0.191342, -0.0525, -0.46194, 6.12303e-17, 0.0525, -0.5, -0.191342, 0.0525, -0.46194, 6.12303e-17, -0.0525, -0.5, 0, 0.0525, 0.5, -0.353553, 0.0525, -0.353553, -0.191342, 0.0525, -0.46194, 0, 0.0525, 0.5, -0.191342, 0.0525, -0.46194, 6.12303e-17, 0.0525, -0.5, -0.5, 0.0525, -9.18455e-17, -0.46194, 0.0525, 0.191342, -0.5, -0.0525, -9.18455e-17, -0.46194, 0.0525, 0.191342, -0.353553, 0.0525, 0.353553, -0.46194, -0.0525, 0.191342, -0.353553, 0.0525, 0.353553, -0.191342, 0.0525, 0.46194, -0.353553, -0.0525, 0.353553, 0, 0.0525, 0.5, -0.5, 0.0525, -9.18455e-17, -0.46194, 0.0525, -0.191342, 0, 0.0525, 0.5, -0.46194, 0.0525, 0.191342, -0.5, 0.0525, -9.18455e-17, 0, 0.0525, 0.5, -0.353553, 0.0525, 0.353553, -0.46194, 0.0525, 0.191342, -0.191342, 0.0525, 0.46194, 0, 0.0525, 0.5, -0.191342, -0.0525, 0.46194, 0, 0.0525, 0.5, -0.191342, 0.0525, 0.46194, -0.353553, 0.0525, 0.353553, 0.191342, -0.0525, 0.46194, 6.12303e-17, -0.0525, -0.5, -0.191342, -0.0525, -0.46194)

[sub_resource type="BoxShape3D" id="BoxShape3D_upiwx"]
size = Vector3(3.94238, 0.0996094, 3.83301)

[node name="DiceTray" type="Node2D"]
script = ExtResource("1_xrqg8")
attacker_army_size = 7
defender_player_id = 1
defender_army_size = 7

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="Viewer" type="Sprite2D" parent="."]
position = Vector2(487, 264)
texture = SubResource("ViewportTexture_h6acc")

[node name="3DView" type="Node3D" parent="."]

[node name="SubViewport" type="SubViewport" parent="3DView"]

[node name="StaticBody3D" type="StaticBody3D" parent="3DView/SubViewport"]

[node name="CSGMesh3D" type="CSGMesh3D" parent="3DView/SubViewport/StaticBody3D"]
use_collision = true
mesh = SubResource("CylinderMesh_h6acc")

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="3DView/SubViewport/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_h6acc")

[node name="Camera3D" type="Camera3D" parent="3DView/SubViewport"]
transform = Transform3D(-1, 8.74228e-08, 5.85976e-15, 2.10903e-08, 0.241244, 0.970464, 8.48407e-08, 0.970464, -0.241244, -4.76837e-07, 3.9982, -1.22174)
fov = 52.3641
size = 3.85487

[node name="DiceReader" type="Area3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.11343, 0)
collision_layer = 2
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="3DView/SubViewport/DiceReader"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.228971, 0)
shape = SubResource("BoxShape3D_upiwx")

[node name="AttackerSpawn" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.52698, 0.368042, 0)

[node name="AimHere" type="Marker3D" parent="3DView/SubViewport/AttackerSpawn"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0490785, 0, 0.263474)

[node name="DefenderSpawn" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.527, 0.368, 0)

[node name="AimHere" type="Marker3D" parent="3DView/SubViewport/DefenderSpawn"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0679772, 0, -0.250577)

[node name="AttackerDie6" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.15, -1.5)

[node name="AttackerDie5" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.15, -1)

[node name="AttackerDie4" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.15, -0.5)

[node name="AttackerDie3" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.15, 0)

[node name="AttackerDie2" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.15, 0.5)

[node name="AttackerDie1" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.15, 1)

[node name="AttackerDie0" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.25, 0.15, 1.5)

[node name="DefenderDie6" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0.15, -1.5)

[node name="DefenderDie5" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0.15, -1)

[node name="DefenderDie4" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0.15, -0.5)

[node name="DefenderDie3" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0.15, 0)

[node name="DefenderDie2" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0.15, 0.5)

[node name="DefenderDie1" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0.15, 1)

[node name="DefenderDie0" type="Marker3D" parent="3DView/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0.15, 1.5)

[node name="ReadTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[connection signal="timeout" from="ReadTimer" to="." method="_on_read_timer_timeout"]
